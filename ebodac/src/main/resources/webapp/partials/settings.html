<div class="row">
    <h4 class="frame-title">{{msg('ebodac.web.settings.title')}}</h4>
    <div class="inside">

        <div ng-repeat="error in errors" class="alert alert-danger alert-block">
            <button type="button" class="close" data-dismiss="alert">&times;</button>
            {{error}}
        </div>
        <div ng-repeat="message in messages" class="alert alert-success alert-block">
            <button type="button" class="close" data-dismiss="alert">&times;</button>
            {{message}}
        </div>

        <form name="form" class="form-horizontal inside" novalidate>

            <h5 class="margin-before2">{{msg('ebodac.web.settings.localization')}}</h5>

            <div class="form-group">
                <label class="col-md-2 control-label" for="district">{{msg('ebodac.web.settings.district')}}</label>
                <div class="col-md-4" data-toggle="tooltip" data-placement="top" data-trigger="hover" bs-popover="{{msg('ebodac.web.settings.district.tooltip')}}">
                    <input class="form-control" id="district" type="text" ng-model="config.district" required>
                </div>
            </div>

            <div class="form-group">
                <label class="col-md-2 control-label" for="chiefdom">{{msg('ebodac.web.settings.chiefdom')}}</label>
                <div class="col-md-4" data-toggle="tooltip" data-placement="top" data-trigger="hover" bs-popover="{{msg('ebodac.web.settings.chiefdom.tooltip')}}">
                    <input class="form-control" id="chiefdom" type="text" ng-model="config.chiefdom" required>
                </div>
            </div>

            <h5 class="margin-before2">{{msg('ebodac.web.settings.zetes')}}</h5>

            <div class="form-group">
                <label class="col-md-2 control-label">{{msg('ebodac.web.settings.zetes.enable')}}</label>
                <div class="col-md-1">
                    <input type="checkbox" class="form-control" id="zetesSettingsCheckBox" checked="unchecked" ng-model="config.enableZetesJob"/>
                </div>
            </div>

            <div class="form-group" ng-show="config.enableZetesJob">
                <div class="form-group">
                    <label class="col-md-2 control-label" for="zetesUrl">{{msg('ebodac.web.settings.zetes.updateUrl')}}</label>
                    <div class="col-md-4" data-toggle="tooltip" data-placement="top" data-trigger="hover" bs-popover="{{msg('ebodac.web.settings.zetes.updateUrl.tooltip')}}">
                        <input class="form-control" id="zetesUrl" type="text" ng-model="config.zetesUrl" ng-required="config.enableZetesJob">
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-2 control-label" for="zetesUsername">{{msg('ebodac.web.settings.zetes.username')}}</label>
                    <div class="col-md-4">
                        <input class="form-control" id="zetesUsername" type="text" ng-model="config.zetesUsername" ng-required="config.enableZetesJob">
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-2 control-label" for="zetesPassword">{{msg('ebodac.web.settings.zetes.password')}}</label>
                    <div class="col-md-4">
                        <input class="form-control" id="zetesPassword" type="password" ng-model="config.zetesPassword" ng-required="config.enableZetesJob">
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-2 control-label" for="startTime">{{msg('ebodac.web.settings.zetes.startTime')}}</label>
                    <div class="col-md-4">
                        <input class="form-control" id="startTime" type="text" ng-model="config.startTime" time-picker ng-required="config.enableZetesJob">
                    </div>
                </div>
            </div>

            <h5 class="margin-before2">{{msg('ebodac.web.settings.rave')}}</h5>

            <div class="form-group">
                <label class="col-md-2 control-label">{{msg('ebodac.web.settings.rave.enable')}}</label>
                <div class="col-md-1">
                    <input type="checkbox" class="form-control" id="raveSettingsCheckBox" checked="unchecked" ng-model="config.enableRaveJob"/>
                </div>
            </div>

            <div class="form-group" ng-show="config.enableRaveJob">
                <div class="form-group">
                    <label class="col-md-2 control-label" for="ftpsHost">{{msg('ebodac.web.settings.rave.ftpsHost')}}</label>
                    <div class="col-md-4" data-toggle="tooltip" data-placement="top" data-trigger="hover" bs-popover="{{msg('ebodac.web.settings.rave.ftpsHost.tooltip')}}">
                        <input class="form-control" id="ftpsHost" type="text" ng-model="config.ftpsHost" ng-required="config.enableRaveJob">
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-2 control-label" for="ftpsPort">{{msg('ebodac.web.settings.rave.ftpsPort')}}</label>
                    <div class="col-md-2" data-toggle="tooltip" data-placement="top" data-trigger="hover" bs-popover="{{msg('ebodac.web.settings.rave.ftpsPort.tooltip')}}">
                        <input class="form-control" id="ftpsPort" type="number" ng-model="config.ftpsPort" ng-required="config.enableRaveJob">
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-2 control-label" for="ftpsDirectory">{{msg('ebodac.web.settings.rave.directory')}}</label>
                    <div class="col-md-4" data-toggle="tooltip" data-placement="top" data-trigger="hover" bs-popover="{{msg('ebodac.web.settings.rave.directory.tooltip')}}">
                        <input class="form-control" id="ftpsDirectory" type="text" ng-model="config.ftpsDirectory" ng-required="config.enableRaveJob">
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-2 control-label" for="ftpsUsername">{{msg('ebodac.web.settings.rave.username')}}</label>
                    <div class="col-md-4">
                        <input class="form-control" id="ftpsUsername" type="text" ng-model="config.ftpsUsername" ng-required="config.enableRaveJob">
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-2 control-label" for="ftpsPassword">{{msg('ebodac.web.settings.rave.password')}}</label>
                    <div class="col-md-4">
                        <input class="form-control" id="ftpsPassword" type="password" ng-model="config.ftpsPassword" ng-required="config.enableRaveJob">
                    </div>
                </div>
            </div>

            <div class="form-group" ng-show="config.enableRaveJob">
                <h5 class="margin-before2">{{msg('ebodac.web.settings.rave.email')}}</h5>
                <div class="form-group">
                    <label class="col-md-2 control-label" for="emailHost">{{msg('ebodac.web.settings.rave.email.host')}}</label>
                    <div class="col-md-4" data-toggle="tooltip" data-placement="top" data-trigger="hover" bs-popover="{{msg('ebodac.web.settings.rave.email.host.tooltip')}}">
                        <input class="form-control" id="emailHost" type="text" ng-model="config.emailHost" ng-required="config.enableRaveJob">
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-2 control-label" for="email">{{msg('ebodac.web.settings.rave.email')}}</label>
                    <div class="col-md-4">
                        <input class="form-control" id="email" type="text" ng-model="config.email" ng-required="config.enableRaveJob">
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-2 control-label" for="emailPassword">{{msg('ebodac.web.settings.rave.email.password')}}</label>
                    <div class="col-md-4">
                        <input class="form-control" id="emailPassword" type="password" ng-model="config.emailPassword" ng-required="config.enableRaveJob">
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-2 control-label" for="emailCheckInterval">{{msg('ebodac.web.settings.rave.email.interval')}}</label>
                    <div class="col-md-2">
                        <input class="form-control" id="emailCheckInterval" type="number" ng-model="config.emailCheckInterval" ng-required="config.enableRaveJob">
                    </div>
                </div>

            </div>

            <h5 class="margin-before2">{{msg('ebodac.web.settings.report')}}</h5>

            <div class="form-group">
                <label class="col-md-2 control-label">{{msg('ebodac.web.settings.report.enable')}}</label>
                <div class="col-md-1">
                    <input type="checkbox" class="form-control" id="reportSettingsCheckBox" checked="unchecked" ng-model="config.enableReportJob"/>
                </div>
            </div>

            <div class="form-group" ng-show="config.enableReportJob">
                <div class="form-group">
                    <label class="col-md-2 control-label" for="reportCalculationStartTime">{{msg('ebodac.web.settings.report.startTime')}}</label>
                    <div class="col-md-4">
                        <input class="form-control" id="reportCalculationStartTime" type="text" ng-model="config.reportCalculationStartTime" time-picker ng-required="config.enableReportJob">
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-2 control-label" for="firstCalculationStartDate">{{msg('ebodac.web.settings.report.firstCalculationStartDate')}}</label>
                    <div class="col-md-4" data-toggle="tooltip" data-placement="top" data-trigger="hover" bs-popover="{{msg('ebodac.web.settings.report.firstCalculationStartDate.tooltip')}}">
                        <input class="form-control" id="firstCalculationStartDate" type="text" ng-model="config.firstCalculationStartDate" date-picker ng-required="config.enableReportJob">
                    </div>
                </div>
            </div>

            <h5 class="margin-before2">{{msg('ebodac.web.settings.report.warning')}}</h5>

            <div class="form-group">
                <label class="col-md-2 control-label">{{msg('ebodac.web.settings.report.warning.label')}}</label>
                <div class="col-md-1" data-toggle="tooltip" data-placement="top" data-trigger="hover" bs-popover="{{msg('ebodac.web.settings.report.warning.tooltip')}}">
                    <input type="checkbox" class="form-control" id="warningMessages" checked="checked" ng-model="config.showWarnings"/>
                </div>
            </div>

            <h5 class="margin-before2">{{msg('ebodac.web.settings.emailReport')}}</h5>

            <div class="form-group">
                <label class="col-md-2 control-label" for="emailReportHost">{{msg('ebodac.web.settings.emailReport.host')}}</label>
                <div class="col-md-4" data-toggle="tooltip" data-placement="top" data-trigger="hover" bs-popover="{{msg('ebodac.web.settings.emailReport.host.tooltip')}}">
                    <input class="form-control" id="emailReportHost" type="text" ng-model="config.emailReportHost">
                </div>
            </div>

            <div class="form-group">
                <label class="col-md-2 control-label" for="emailReportPort">{{msg('ebodac.web.settings.emailReport.port')}}</label>
                <div class="col-md-2" data-toggle="tooltip" data-placement="top" data-trigger="hover" bs-popover="{{msg('ebodac.web.settings.emailReport.port.tooltip')}}">
                    <input class="form-control" id="emailReportPort" type="number" ng-model="config.emailReportPort">
                </div>
            </div>

            <div class="form-group">
                <label class="col-md-2 control-label" for="emailReportAddress">{{msg('ebodac.web.settings.emailReport.address')}}</label>
                <div class="col-md-4" data-toggle="tooltip" data-placement="top" data-trigger="hover" bs-popover="{{msg('ebodac.web.settings.emailReport.address.tooltip')}}">
                    <input class="form-control" id="emailReportAddress" type="text" ng-model="config.emailReportAddress">
                </div>
            </div>

            <div class="form-group">
                <label class="col-md-2 control-label" for="emailReportPassword">{{msg('ebodac.web.settings.emailReport.password')}}</label>
                <div class="col-md-4" data-toggle="tooltip" data-placement="top" data-trigger="hover" bs-popover="{{msg('ebodac.web.settings.emailReport.password.tooltip')}}">
                    <input class="form-control" id="emailReportPassword" type="password" ng-model="config.emailReportPassword">
                </div>
            </div>

            <h5 class="margin-before2">{{msg('ebodac.web.settings.enroll')}}</h5>

            <div class="form-group">
                <label class="col-md-2 control-label">{{msg('ebodac.web.settings.enroll.disconVacCampaigns.label')}}</label>
                <div class="col-md-4" data-toggle="tooltip" data-placement="top" data-trigger="hover" bs-popover="{{msg('ebodac.web.settings.enroll.disconVacCampaigns.tooltip')}}">
                    <select id="disconVacCampaigns" class="form-control" ui-select2 multiple select2-ng-change="campaignsChanged">
                        <option ng-repeat="campaign in availableCampaigns" value="{{campaign}}">{{campaign}}</option>
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label class="col-md-2 control-label">{{msg('ebodac.web.settings.enroll.boosterRelatedMessages.label')}}</label>
                <div class="col-md-4" data-toggle="tooltip" data-placement="top" data-trigger="hover" bs-popover="{{msg('ebodac.web.settings.enroll.boosterRelatedMessages.tooltip')}}">
                    <select id="boostRelCampaigns" class="form-control" ui-select2 multiple select2-ng-change="boostRelCampaignsChanged">
                        <option ng-repeat="campaign in availableCampaigns" value="{{campaign}}">{{campaign}}</option>
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label class="col-md-2 control-label" for="activeStageId">{{msg('ebodac.web.settings.enroll.activeStageId.label')}}</label>
                <div class="col-md-2" data-toggle="tooltip" data-placement="top" data-trigger="hover" bs-popover="{{msg('ebodac.web.settings.enroll.activeStageId.tooltip')}}">
                    <input class="form-control" id="activeStageId" type="number" ng-model="config.activeStageId">
                </div>
            </div>

            <h5 class="margin-before2">{{msg('ebodac.web.settings.ivrCalls')}}</h5>

            <div class="form-group">
                <label class="col-md-2 control-label">{{msg('ebodac.web.settings.sendIvrCalls')}}</label>
                <div class="col-md-1">
                    <input type="checkbox" class="form-control" id="sendIvrCalls" ng-model="config.sendIvrCalls"/>
                </div>
            </div>

            <div class="form-group" ng-show="config.sendIvrCalls">
                <div class="form-group">
                    <label class="col-md-2 control-label" for="ivrSettingsName">{{msg('ebodac.web.settings.calls.ivrSettingsName')}}</label>
                    <div class="col-md-4">
                        <input class="form-control" id="ivrSettingsName" type="text" ng-model="config.ivrSettingsName" ng-required="config.sendIvrCalls">
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-2 control-label" for="apiKey">{{msg('ebodac.web.settings.calls.apiKey')}}</label>
                    <div class="col-md-4">
                        <input class="form-control" id="apiKey" type="text" ng-model="config.apiKey" ng-required="config.sendIvrCalls">
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-2 control-label" for="statusCallbackUrl">{{msg('ebodac.web.settings.calls.statusCallbackUrl')}}</label>
                    <div class="col-md-4">
                        <input class="form-control" id="statusCallbackUrl" type="text" ng-model="config.statusCallbackUrl" ng-required="config.sendIvrCalls">
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-2 control-label" for="sendSmsIfVoiceFails">{{msg('ebodac.web.settings.calls.sendSmsIfVoiceFails')}}</label>
                    <div class="col-md-1">
                        <input class="form-control" id="sendSmsIfVoiceFails" type="checkbox" ng-model="config.sendSmsIfVoiceFails">
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-2 control-label" for="detectVoiceMail">{{msg('ebodac.web.settings.calls.detectVoiceMail')}}</label>
                    <div class="col-md-1">
                        <input class="form-control" id="detectVoiceMail" type="checkbox" ng-model="config.detectVoiceMail">
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-2 control-label" for="retryAttempts">{{msg('ebodac.web.settings.calls.retryAttempts')}}</label>
                    <div class="col-md-2">
                        <input class="form-control" id="retryAttempts" type="number" ng-model="config.retryAttempts" ng-required="config.sendIvrCalls">
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-2 control-label" for="retryDelay">{{msg('ebodac.web.settings.calls.retryDelay')}}</label>
                    <div class="col-md-2">
                        <input class="form-control" id="retryDelay" type="number" ng-model="config.retryDelay" ng-required="config.sendIvrCalls">
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-2 control-label" for="disabledIvrCallsForStages">{{msg('ebodac.web.settings.calls.disabledIvrCallsForStages')}}</label>
                    <div class="col-md-4" data-toggle="tooltip" data-placement="top" data-trigger="hover" bs-popover="{{msg('ebodac.web.settings.calls.disabledIvrCallsForStages.tooltip')}}">
                        <input class="form-control" id="disabledIvrCallsForStages" type="text" ng-model="config.disabledIvrCallsForStages" ng-pattern="/^([0-9]*)(\s*,\s*[0-9]+)*$/">
                    </div>
                </div>

            </div>

            <div class="form-inline">
                <button class="btn btn-default" ng-click="reset()">{{msg('ebodac.web.settings.cancel')}}</button>
                <button class="btn btn-primary" ng-disabled="!form.$valid" ng-click="submit()">{{msg('ebodac.web.settings.save')}}</button>
            </div>
        </form>
    </div>
</div>
